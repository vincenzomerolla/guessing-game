"use strict";$(function(){function e(){r=Math.floor(100*Math.random()+1),console.log("generated a random number: "+r)}function s(e){return!isNaN(e)&&e>0&&101>e?!0:!1}function a(){l=!1,m.find("td:gt(0)").remove(),b.find("td:gt(0)").remove(),g.hasClass("hide")&&g.removeClass("hide"),d.prop({disabled:!1}),p.prop({disabled:!0}),e(),c.val(""),i=[],o=0,h.text(5),p.data("bs.popover").options.content=r}function t(){l=!0,d.prop({disabled:!0})}function n(e,s){if(1>s)return"";for(var a="";s>1;)1&s&&(a+=e),s>>=1,e+=e;return a+e}var r=null,o=0,i=[],l=!1,d=$("#submit-guess"),p=$("#hint"),c=$("#guess"),u=$("#play-again"),g=$(".filler-text"),f=$(".game-form"),h=$("#guesses-left"),m=$("#guess-chart #number"),b=$("#guess-chart #level");e(),p.popover({content:r}),h.text(5),d.click(function(){if(s(c.val())){var e=Number(c.val());if(e===r)$.growl("<strong>"+c.val()+"</strong> is the correct answer! You have won the game!",{allow_dismiss:!1,type:"success"}),t();else if(-1!==i.indexOf(e))$.growl("Guess was previously made.",{allow_dismiss:!1,type:"danger"});else{0===o&&(p.prop({disabled:!1}),g.toggleClass("hide")),i.push(e),o++,h.text(5-o);var a="<td>"+e+"&nbsp;";a+=r>e?'<span class="ion-arrow-up-a"></span></td>':'<span class="ion-arrow-down-a"></span></td>',m.append(a);var l=Math.abs(r-e);b.append(5>l?"<td>"+n('<span class="red ion-fireball"></span>',3)+"</td>":10>l?"<td>"+n('<span class="red ion-fireball"></span>',2)+"</td>":15>l?'<td><span class="red ion-fireball"></span></td>':20>l?'<td><span class="blue ion-cube"></span></td>':25>l?"<td>"+n('<span class="blue ion-cube"></span>',2)+"</td>":"<td>"+n('<span class="blue ion-cube"></span>',3)+"</td>"),5===o&&($.growl("Sorry, but the correct answer was <strong>"+r+"</strong>.",{allow_dismiss:!1,type:"danger"}),t())}c.val("")}else f.addClass("has-error animated shake"),setTimeout(function(){f.removeClass("animated shake")},1100),setTimeout(function(){f.removeClass("has-error")},1700)}),c.keypress(function(e){13!==e.which||l||d.trigger("click")}),u.click(function(){a(),$.growl("The game has been reset.",{allow_dismiss:!1,type:"warning"})}),$("html").on("click",function(e){"undefined"==typeof $(e.target).data("original-title")&&$("[data-original-title]").popover("hide")})});