"use strict";$(function(){function e(){t=Math.floor(100*Math.random()+1),console.log("generated a random number: "+t)}function s(e){return e>0&&101>e?!0:!1}function a(){f.find("td:gt(0)").remove(),g.find("td:gt(0)").remove(),$(".filler-text").toggleClass("hide"),o.prop({disabled:!1}),d.prop({disabled:!0}),e(),r.val(""),u=[],l=5,c.text(l),i.data("bs.popover").options.content=t}function n(){o.prop({disabled:!0}),d.prop({disabled:!1})}var t,l=5,o=$("#submit-guess"),i=$("#hint"),r=$("#guess"),d=$("#play-again"),p=$(".game-form"),c=$("#guesses-left"),u=[],f=$("#guess-chart #number"),g=$("#guess-chart #level");e(),i.popover({content:t}),c.text(l),o.click(function(){if(s(r.val())){var e=Number(r.val());if(e===t)$.growl("<strong>"+r.val()+"</strong> is the correct answer! You have won the game!",{allow_dismiss:!1,type:"success"}),n();else if(-1!==u.indexOf(e))$.growl("Guess was previously made.",{allow_dismiss:!1,type:"danger"});else{5===l&&$(".filler-text").toggleClass("hide"),u.push(e),l--,c.text(l),f.append("<td>"+e+"</td>");var a=Math.abs(t-e);g.append(5>a?'<td><span class="red ion-fireball"></span><span class="red ion-fireball"></span><span class="red ion-fireball"></span></td>':10>a?'<td><span class="red ion-fireball"></span><span class="red ion-fireball"></span></td>':15>a?'<td><span class="red ion-fireball"></span></td>':20>a?'<td><span class="blue ion-cube"></span></td>':25>a?'<td><span class="blue ion-cube"></span><span class="blue ion-cube"></span></td>':'<td><span class="blue ion-cube"></span><span class="blue ion-cube"></span><span class="blue ion-cube"></span></td>'),0===l&&($.growl("Sorry, but the correct answer was <strong>"+t+"</strong>.",{allow_dismiss:!1,type:"danger"}),n())}r.val("")}else p.addClass("has-error animated shake"),setTimeout(function(){p.removeClass("animated shake")},1100),setTimeout(function(){p.removeClass("has-error")},1700)}),r.keypress(function(e){13===e.which&&0!==l&&o.trigger("click")}),d.click(function(){a()}),$("html").on("click",function(e){"undefined"==typeof $(e.target).data("original-title")&&$("[data-original-title]").popover("hide")})});