"use strict";$(function(){function e(){r=Math.floor(100*Math.random()+1),console.log("generated a random number: "+r)}function s(e){return!isNaN(e)&&e>0&&101>e?!0:!1}function a(){h.find("td:gt(0)").remove(),m.find("td:gt(0)").remove(),c.hasClass("hide")&&c.removeClass("hide"),i.prop({disabled:!1}),l.prop({disabled:!0}),e(),d.val(""),f=[],o=0,g.text(5),l.data("bs.popover").options.content=r}function t(){i.prop({disabled:!0})}function n(e,s){if(1>s)return"";for(var a="";s>1;)1&s&&(a+=e),s>>=1,e+=e;return a+e}var r=null,o=0,i=$("#submit-guess"),l=$("#hint"),d=$("#guess"),p=$("#play-again"),c=$(".filler-text"),u=$(".game-form"),g=$("#guesses-left"),f=[],h=$("#guess-chart #number"),m=$("#guess-chart #level");e(),l.popover({content:r}),g.text(5),i.click(function(){if(s(d.val())){var e=Number(d.val());if(e===r)$.growl("<strong>"+d.val()+"</strong> is the correct answer! You have won the game!",{allow_dismiss:!1,type:"success"}),t();else if(-1!==f.indexOf(e))$.growl("Guess was previously made.",{allow_dismiss:!1,type:"danger"});else{0===o&&(l.prop({disabled:!1}),c.toggleClass("hide")),f.push(e),o++,g.text(5-o);var a="<td>"+e+"&nbsp;";a+=r>e?'<span class="ion-arrow-up-a"></span></td>':'<span class="ion-arrow-down-a"></span></td>',h.append(a);var i=Math.abs(r-e);m.append(5>i?"<td>"+n('<span class="red ion-fireball"></span>',3)+"</td>":10>i?"<td>"+n('<span class="red ion-fireball"></span>',2)+"</td>":15>i?'<td><span class="red ion-fireball"></span></td>':20>i?'<td><span class="blue ion-cube"></span></td>':25>i?"<td>"+n('<span class="blue ion-cube"></span>',2)+"</td>":"<td>"+n('<span class="blue ion-cube"></span>',3)+"</td>"),5===o&&($.growl("Sorry, but the correct answer was <strong>"+r+"</strong>.",{allow_dismiss:!1,type:"danger"}),t())}d.val("")}else u.addClass("has-error animated shake"),setTimeout(function(){u.removeClass("animated shake")},1100),setTimeout(function(){u.removeClass("has-error")},1700)}),d.keypress(function(e){13===e.which&&5!==o&&i.trigger("click")}),p.click(function(){a(),$.growl("The game has been reset.",{allow_dismiss:!1,type:"warning"})}),$("html").on("click",function(e){"undefined"==typeof $(e.target).data("original-title")&&$("[data-original-title]").popover("hide")})});